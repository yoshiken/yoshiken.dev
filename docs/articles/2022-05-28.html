
<!DOCTYPE html>
<html lang="ja" class="no-js">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width">

  <title>GitHub Actions ã§ GitHub Container Registry ã«pushã—ãŸã¨ãã«403 ForbiddenãŒå‡ºãŸæ™‚ã®å¯¾å‡¦æ³•</title>

  <script type="module">
    document.documentElement.classList.remove('no-js');
    document.documentElement.classList.add('js');
  </script>

  <!-- Thank you https://github.com/kevquirk/simple.css -->
  <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
  <style>
    a {
      word-wrap:break-word;
    }
    img {
      object-fit: cover;
      width: 100%;
    }
    .blog-title a,
    .blog-title a:visited,
    .blog-title a:hover,
    .blog-title a:active {
      color: inherit;
      text-decoration: none;
    }
  </style>
  <meta name="description" content=ã‚µã‚¤ãƒ¬ãƒ³ãƒˆã«æ¨©é™å¤‰æ›´ã™ãªãƒ¼ï¼>
  
  <meta property="og:title" content="GitHub Actions ã§ GitHub Container Registry ã«pushã—ãŸã¨ãã«403 ForbiddenãŒå‡ºãŸæ™‚ã®å¯¾å‡¦æ³•">
<meta property="og:site_name" content="yoshiken.dev" />
<meta property="og:description" content="ã‚µã‚¤ãƒ¬ãƒ³ãƒˆã«æ¨©é™å¤‰æ›´ã™ãªãƒ¼ï¼">
<meta property="og:image" content="https://yoshiken.dev/ogp.png">
<meta property="og:locale" content="ja_JP">
<meta property="og:type" content="article">
<meta name="twitter:card" content="summary">
<meta property="og:url" content="https://yoshiken.dev/articles/2022-05-28">
  
  <link rel="canonical" href=https://yoshiken.dev/articles/2022-05-28>
  <link rel="icon" href="https://yoshiken.dev/favicon.icon">
  <meta name="theme-color" content="#CCFFFF">
</head>

<body>
  <header>
      <div class="blog-title"><h1><a href="/">yoshiken.dev</a></h1></div>
      <p>yoshikenãŒãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚„æ—¥è¨˜ã€ãƒã‚¨ãƒ ã‚’æ›¸ã„ã¦ã„ããƒšãƒ¼ã‚¸ã§ã™</p>
</header>
  <article>
    <h1>GitHub Actions ã§ GitHub Container Registry ã«pushã—ãŸã¨ãã«403 ForbiddenãŒå‡ºãŸæ™‚ã®å¯¾å‡¦æ³•</h1>
    <time datetime="2022-05-28 00:20:04+09:00">2022-05-28</time>
    <h2>GitHub Actionsã€€ã¨ã€€GitHub Container Registry ã®çµ„ã¿åˆã‚ã›ã£ã¦ã‚ã‚“ã¾ã‚Šç¾å‘³ã—ããªã„ã‹ã‚‚ã£ã¦æ€ã£ã¦ããŸã€‚</h2>
<p>ã“ã®commit</p>
<p><a href="https://github.com/yoshiken/yoshiken.dev.python/commit/cd50ff68d743f505c3a50e1f7b8cf6078394a5a9">add ghcr lastest Â· yoshiken/yoshiken.dev.python@cd50ff6</a></p>
<p>å…¬å¼é€šã‚Šã«å®Ÿè£…ã—ãŸã‚“ã ã‘ã©ã€ <code>Error: buildx failed with: error: failed to solve: unexpected status: 403 Forbidden</code> ã£ã¦èªè¨¼ãŒé€šã‚‰ãªã‹ã£ãŸã€‚</p>
<p><a href="https://github.com/yoshiken/yoshiken.dev.python/runs/6625393773?check_suite_focus=true#step:6:222">add ghcr lastest Â· yoshiken/yoshiken.dev.python@cd50ff6</a></p>
<h3>è§£æ±ºç­–</h3>
<p><a href="https://github.community/t/403-error-on-container-registry-push-from-github-action/173071/39">403 error on container registry push from GitHub Action - Code to Cloud / GitHub Packages - GitHub Community</a></p>
<blockquote>
<p>I recently started to get this error too, but I found how to solve this.</p>
<p>Basically, seems that GitHub sneakily removed write_packages from GITHUB_TOKEN, but you can add it again by going to your package page, then in â€œPackage settingsâ€ (the one in sidebar, not in the tab bar, as the later will redirect you to repository settings) and finally update the section named â€œManage Actions accessâ€ to add your repository with write access again:</p>
</blockquote>
<p>æ„è¨³:
æœ€è¿‘ã«ãªã£ã¦å†ç¾ã—ã¾ã—ãŸã€‚</p>
<p>GithubãŒã‚µã‚¤ãƒ¬ãƒ³ãƒˆã«GITHUB_TOKENã‹ã‚‰write_packagesã®æ¨©é™å‰Šé™¤ã—ãŸã‚ˆã†ã§ã™ã€‚(ä»¥ä¸‹ğŸ‘‡ã®æ‰‹é †ã®èª¬æ˜</p>
<p>ã¨ã®ã“ã¨ã€‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç¢ºèªã—ã«è¡Œãã¨ <code>Maximum access by forked repos</code> ãŒreadã«ãªã£ã¦ã„ã‚‹ã€‚ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å´ã‹ã‚‰è¨±å¯ã—ãªã„ã¨ã ã‚ã£ã½ã„ã€‚</p>
<p><a href="https://docs.github.com/en/actions/security-guides/automatic-token-authentication#permissions-for-the-github_token">Automatic token authentication - GitHub Docs</a></p>
<p>(æ—¥æœ¬èªã ã¨ãƒ†ãƒ¼ãƒ–ãƒ«å´©ã‚Œã¦ã‚‹ã‘ã©å…¬å¼ã ã¨ç¿»è¨³ã®Contributingå—ã‘ä»˜ã‘ã¦ãªã„ã£ã½ã„ã£ã½ã„ã‚“ã ã‚ˆã­ãƒ¼)</p>
<p>ã¨ã„ã†ã“ã¨ã§å…ˆç¨‹ã®æ‰‹é †ã‚’èª¬æ˜</p>
<p>packegeãƒšãƒ¼ã‚¸ã‹ã‚‰packege setting</p>
<p><img src="https://i.imgur.com/otDnHDS.png" alt=""></p>
<p>Manage Actions access ã‹ã‚‰ Add Repository</p>
<p><img src="https://i.imgur.com/tsrWL53.png" alt=""></p>
<p>GitHub Actionsã‚’å›ã—ã¦ã„ã‚‹ãƒªãƒã‚¸ãƒˆãƒªã‚’è¿½åŠ ã—ã¦writeã‚’é¸æŠã€‚(defaultã¯readã«ãªã£ã¦ã„ã‚‹ã®ã§æ³¨æ„</p>
<p><img src="https://i.imgur.com/WwJgvsn.png" alt=""></p>
<p>ã“ã‚Œã§Githubä¸Šã§rerunã™ã‚‹ãªã‚Šempty commitã™ã‚‹ãªã‚Šã§GG</p>
<p><a href="https://github.com/yoshiken/yoshiken.dev.python/runs/6627715811?check_suite_focus=true">GitHub Actions rerun Â· yoshiken/yoshiken.dev.python@55b7f16</a></p>
<p><img src="https://i.imgur.com/DgLmZSW.png" alt=""></p>
  </article>
  <footer>
  <a href="/">HOME</a> / <a href="/about">About</a> / <a href="https://github.com/yoshiken">Github</a>
</footer>
</body>